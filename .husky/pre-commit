#!/bin/sh

# Run lint-staged (prettier, eslint, tsc on staged files)
pnpm exec lint-staged

# Check for unused code/dependencies
pnpm knip --no-config-hints

# Check for code duplication
pnpm duplication-check

# Build both variants (includes markdownlint --fix)
pnpm build

# Run tests (validates built output)
pnpm test

# Stage generated files
git add downloads/
git add README.md
git add .claude/commands/
